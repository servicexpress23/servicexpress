
@{
    ViewBag.Title = "Booking";
}

@{ 
    var provider = ViewBag.Provider;
}

<div class="main-wrapper">
    <div class="bg-img">
        <img src="~/assets/img/bg/work-bg-03.png" alt="img" class="bgimg1">
        <img src="~/assets/img/bg/work-bg-03.png" alt="img" class="bgimg2">
        <img src="~/assets/img/bg/feature-bg-03.png" alt="img" class="bgimg3">
    </div>

    <div class="content">
        <div class="container">
            <div class="row">

                <!-- Booking -->
                <div class="col-lg-10 mx-auto">

                    <!-- Booking Step -->
                    <ul class="step-register row">
                        <li class="active col-md-4">
                            <div class="multi-step-icon">
                                <img src="~/assets/img/icons/calendar-icon.svg" alt="img">
                            </div>
                            <div class="multi-step-info">
                                <h6>Appointment</h6>
                                <p>Choose time & date for the service</p>
                            </div>
                        </li>
                        <li class="col-md-4">
                            <div class="multi-step-icon">
                                <img src="~/assets/img/icons/wallet-icon.svg" alt="img">
                            </div>
                            <div class="multi-step-info">
                                <h6>Payment</h6>
                                <p>Select Payment Gateway</p>
                            </div>
                        </li>
                        <li class="col-md-4">
                            <div class="multi-step-icon">
                                <img src="~/assets/img/icons/book-done.svg" alt="img">
                            </div>
                            <div class="multi-step-info">
                                <h6>Done </h6>
                                <p>Completion of Booking</p>
                            </div>
                        </li>
                    </ul>

                    <!-- /Booking Step -->
                    <!-- Appointment -->
                    <div class="booking-service">
                        <div class="row align-items-center">
                            <div class="col-lg-6">
                                <div class="service-book">
                                    <div class="service-book-img">
                                        <img src="~/assets/img/booking.jpg" alt="img">
                                    </div>
                                    <div class="serv-profile">
                                        <span class="badge">@ViewBag.CatName</span>
                                        <h2>@ViewBag.Service.Services</h2>
                                        <ul>
                                            <li class="serv-pro">
                                                <img src="~/assets/img/profiles/avatar-01.jpg" alt="img">
                                                <div class="serv-pro-info">
                                                    <h6>@ViewBag.Provider.PName</h6>
                                                    <h6 id="providerId" hidden>@ViewBag.Provider.Id</h6>
                                                    <p class="serv-review"><i class="fa-solid fa-star"></i> <span>4.9 </span>(255 reviews)</p>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="row align-items-center">
                                    <div class="col-md-7 col-sm-6">
                                        <div class="provide-box">
                                            <span><i class="feather-phone"></i></span>
                                            <div class="provide-info">
                                                <h6>Phone</h6>
                                                <p>@ViewBag.Provider.Phone</p>
                                            </div>
                                        </div>
                                        <div class="provide-box">
                                            <span><i class="feather-mail"></i></span>
                                            <div class="provide-info">
                                                <h6>Email</h6>
                                                <p>@ViewBag.Provider.Email</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-5 col-sm-6">
                                        <div class="provide-box">
                                            <span><i class="feather-map-pin"></i></span>
                                            <div class="provide-info">
                                                <h6>Address</h6>
                                                <p>Hyderabad, Telengana</p>
                                            </div>
                                        </div>
                                        <div class="provide-box">
                                            <span><img src="~/assets/img/icons/service-icon.svg" alt="img"></span>
                                            <div class="provide-info">
                                                <h6>Service Amount</h6>
                                                <h5 ><span>&#x20B9;</span> <span id="total">@ViewBag.Service.Price</span> </h5>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="book-form">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="col-form-label">State</label>
                                    <select class="select" id="state">
                                        <option value="0">Select State</option>
                                        <option value="1" >Telangana</option>
                                        <option value="2">Andhra Pradesh</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="col-form-label">City</label>
                                    <select class="select" id="city">
                                        <option value="0">Select City</option>
                                        <option value="1">Hyderabad</option>
                                        <option value="2">Vijayawada</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="col-form-label">Appointment Date</label>
                                        <input type="date" id="start" name="trip-start" class="form-control"/>
                                    </div>
                                </div>
                        </div>
                    </div>
                    <!-- /Appointment -->
                    <!-- Appointment Date & Time -->
                    <div class="row">
                        @*<div class="col-lg-4">
                            <div class="book-title">
                                <h5>Appointment Date</h5>
                            </div>
                            <div id="datetimepickershow">

                            </div>
                        </div>*@
                        <div class="col-lg-12">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="book-title">
                                        <h5>Appointment Time</h5>
                                    </div>
                                </div>
                            </div>
                            <div class="token-slot mt-2">
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('09.00 AM')">
                                        <span class="visit-rsn">09.00 AM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('09.30 AM')">
                                        <span class="visit-rsn">09.30 AM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('10.00 AM')">
                                        <span class="visit-rsn">10.00 AM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('10.30 AM')">
                                        <span class="visit-rsn">10.30 AM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('11.00 AM')">
                                        <span class="visit-rsn">11.00 AM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('11.30 AM')">
                                        <span class="visit-rsn">11.30 AM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('12.00 P')" >
                                        <span class="visit-rsn">12.00 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('12.30 PM')">
                                        <span class="visit-rsn">12.30 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('01.00 PM')">
                                        <span class="visit-rsn">01.00 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('01.30 PM')">
                                        <span class="visit-rsn">01.30 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('02.00 PM')">
                                        <span class="visit-rsn">02.00 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('02.30 PM')">
                                        <span class="visit-rsn">02.30 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('03.00 PM')">
                                        <span class="visit-rsn">03.00 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('03.30 PM')">
                                        <span class="visit-rsn">03.30 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('04.00 PM')">
                                        <span class="visit-rsn">04.00 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('04.30 PM')">
                                        <span class="visit-rsn">04.30 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('05.00 PM')">
                                        <span class="visit-rsn">05.00 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('05.30 PM')">
                                        <span class="visit-rsn">05.30 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('06.00 PM')">
                                        <span class="visit-rsn">06.00 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('06.30 PM')">
                                        <span class="visit-rsn">06.30 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('07.00 PM')">
                                        <span class="visit-rsn">07.00 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('07.30 PM')">
                                        <span class="visit-rsn">07.30 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('08.00 PM')">
                                        <span class="visit-rsn">08.00 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('08.30 PM')">
                                        <span class="visit-rsn">08.30 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('09.00 PM')">
                                        <span class="visit-rsn">09.00 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('09.30 PM')">
                                        <span class="visit-rsn">09.30 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment"onclick="GetTime('10.00 PM')">
                                        <span class="visit-rsn">10.00 PM</span>
                                    </label>
                                </div>
                                <div class="form-check-inline visits me-0">
                                    <label class="visit-btns">
                                        <input type="radio" class="form-check-input" name="appintment" onclick="GetTime('10.30 PM')">
                                        <span class="visit-rsn">10.30 PM</span>
                                    </label>
                                </div>
                            </div>
                            <div class="book-submit text-end">
                                <a href="#" class="btn btn-secondary">Cancel</a>
                                <a href="javascript:void(0)" class="btn btn-primary" onclick="saveData()">Book Appointment</a>
                            </div>


                        </div>
                    </div>
                    <!-- /Appointment Date & Time -->

                </div>
                <!-- /Booking -->

            </div>
        </div>
    </div>

    <!-- Cursor -->
    <div class="mouse-cursor cursor-outer"></div>
    <div class="mouse-cursor cursor-inner"></div>
    <!-- /Cursor -->

</div>


<script src="~/assets/js/jquery-3.7.0.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {

    });
    $('#datetimepickershow').on('click', function () {
        alert($(this).val());
    });

    var time = "";
    function GetTime(data) {

        time = data;

    }

    function saveData() {

        Model = {
            ProviderId: $('#providerId').text(),
            CityId: $('#city').val(),
            StateId: $('#state').val(),
            AppDate: $('#start').val(),
            AppTime: time,
            Price: $('#total').text(),

        }
        $.ajax({
            type: "POST",
            url: "/Cart/SaveData",
            data: JSON.stringify({ model: Model }),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (result) {
                alert(result);
                console.log(result);
                window.open(result, "_self")
            },
            Error: function (errormsg) {

            }
        });

    }

</script>